# 13장 스코프(08.25)

## 스코프란? 
- 모든 식별자(변수 이름, 함수 이름, 클래스 이름 등)는 자신이 선언된 위치에 의해 다른 코드가 식별자 자신을 참조할 수 있는 유효범위가 결정된다.</br>
=>`스코프 : 식별자가 유효한 범위`
- 식별자 결정 : 자바 스크립트 엔진은 이름이 같은 두개의 변수 중에서 어떤 변수를 참고 해야 할지를 결정(스코프를 통해)</br>
=> `스코프 : 식별자를 검색할 때 사용하는 규칙` 

```javascript
var var1 = 1; // 코드의 가장 바깥 영역에서 선언한 변수

if (true) {
    var var2 = 2; // 코드 블록 내에서 선언한 변수 
 if (true) {
    var var3 = 3; // 중첩된 코드 블록 내에서 선언한 변수 
  }
}

function foo() {
  var var4 = 4; // 함수 내에서 선언한 변수

  function bar() {
    var var5 = 5; // 중첩된 함수 내에서 선언한 변수 
  }
}

console.log(var1) // 1
console.log(var2) // 2
console.log(var3) // 3
console.log(var4) // ReferenceError : var4 is not defined 
console.log(var5) // ReferenceError : var4 is not defined
```

![](https://velog.velcdn.com/images%2Fjinseoit%2Fpost%2F768d4117-0a6c-49c3-952c-74e663201b17%2Fimage.png)

## 스코프의 종류
### 전역 스코프(Global Scope)
- 전역(코드 가장 바깥)에서 변수를 선언하면 `어디서든 참조할 수 있는` **전역변수**가 된다.

### 지역 스코프(Local Scope)
- 지역(함수 몸체 내부)에서 변수를 선언하면 `자신이 선언된 지역과 하위 스코프에서만 참조할 수 있는` **지역변수**가 된다.

## 스코프 체인(Scope Chain)
- 함수 몸체 내부에서 함수가 정의 된 것을 `함수의중첩`, 함수 내부 몸체 내부에서 정의한 함수를 `중첩함수`, 중첩 함수를 포함하는 함수를 `외부함수`
- 함수가 중첩되듯 스코프 중첩 될 수 있다<br/>
=> `스코프 체인 : 스코프가 함수의 중첩에 의해 계층적 구조를 갖는다는 것`
- 변수를 참조할 때 자바스크립트 엔진은 스코프 체인을 참조하는 코드의 스코프에서 시작하여 상위 스코프 방향으로 이동하며 선언된 변수를 검색한다.<br/> 
=> 상위 스코프에서 유효한 변수는 하위 스코프에서 자유롭게 참조 할 수 있지만 하위 스코프에서 유효한 변수를 상위 스코프에서 참조할 수 없다. 

## 렉시컬 스코프
- 함수를 `어디서 정의` 했는지에 따라 상위 스코프를 결정한다.
- 함수가 호출된 위치는 상위 스코프 결정에 어떠한 영향도 주지 않는다.
- **함수의 상위 스코프는 언제나 자신이 정의된 스코프**
- 자바스크립트는 렉시컬 스코프를 따른다.

## 동적 스포크
- 함수를 `어디서 호출` 했는지에 따라 상위 스코프를 결정한다.
- 함수가 호출되는 시점에 동적으로 상위 스코프를 결정한다.