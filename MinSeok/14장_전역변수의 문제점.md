# 14장 전역 변수의 문제점(08.28)


## 지역 변수의 생명주기
- 지역 변수의 생명 주기는 `함수의 생명 주기`와 일치한다.

## 전역 변수의 생명주기
- var 키워드로 선언한 전역 변수의 생명 주기는 `전역 객체의 생명 주기`와 일치한다.
- 전역 객체 window는 웹페이지를 닫을 때까지 유효

## 전역 변수의 문제점
### 암묵적 결합
- 전역 변수를 선언한 의도는 전역에서 참조하고 할당할 수 있는 변수를 사용<br/>
=> 모든 코드가 전역 변수를 참조하고 변경할 수 있게 된다. 

### 긴 생명주기
- 전역 변수는 생명주기가 길어 메모리 리소스를 오랜 시간 소비한다.

### 스코프 체인 상에서 종점 존재
- 전역 변수는 스코프 체인 상에서 종점에 존재<br>
-> 변수를 검색할 때 전역 변수가 가장 마지막에 검색된다.<br>
=> 전역 변수의 검색 속도가 가장 느리다.

### 네임스페이스 오염
- 자바스크립트의 가장 큰 문제점 중 하나로 파일이 분리되어 있어도 하나의 전역 스코프를 공유한다는 점 

## 전역 변수 사용을 억제하는 방법
### 즉시 실행함수
- 함수 정의와 동시에 호출되는 즉시 실행 함수는 단 한번만 호출된다. 
- **모든 코드를 즉시 실행함수로 감싸면 모든 변수는 즉시 실행 함수의 지역 변수가 된다**

```javascript
(function() {
    var foo = 10; //  즉시 실행 함수의 지역 변수 
    //...
}());

console.log(foo) // ReferenceError : foo is not defined
```

### 네임 스페이스 객체
- 전역에 네임스페이스 역할을 담당할 객체를 생성하고 전역 변수처럼 사용하고 싶은 변수를 프로퍼티로 추가

### 모듈 패턴
- 클래스를 모방해서 관련이 있는 변수와 함수를 모아 즉시 실행 함수로 감싸 하나의 모듈을 만든다.

### ES6 모듈 
- ES6 모듈을 사용하면 더는 전역 변수를 사용할 수 없다.
- ES6는 파일 자체의 독자적인 모듈 스코프를 제공한다.
    - export {};